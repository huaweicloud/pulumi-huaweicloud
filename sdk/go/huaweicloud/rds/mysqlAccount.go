// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package rds

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages RDS Mysql account resource within HuaweiCloud.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/huaweicloud/pulumi-huaweicloud/sdk/go/huaweicloud/Rds"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			instanceId := cfg.RequireObject("instanceId")
//			accountPassword := cfg.RequireObject("accountPassword")
//			_, err := Rds.NewMysqlAccount(ctx, "test", &Rds.MysqlAccountArgs{
//				InstanceId: pulumi.Any(instanceId),
//				Password:   pulumi.Any(accountPassword),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// RDS account can be imported using the `instance_id` and `name` separated by a slash, e.g.bash
//
// ```sh
//
//	$ pulumi import huaweicloud:Rds/mysqlAccount:MysqlAccount account_1 <instance_id>/<name>
//
// ```
//
//	Note that the imported state may not be identical to your resource definition, due to some attributes missing from the API response, security or some other reason. The missing attributes include`password`. It is generally recommended running `terraform plan` after importing the RDS Mysql account. You can then decide if changes should be applied to the RDS Mysql account, or the resource definition should be updated to align with the RDS Mysql account. Also you can ignore changes as below. hcl resource "huaweicloud_rds_mysql_account" "account_1" {
//
//	...
//
//	lifecycle {
//
//	ignore_changes = [
//
//	password
//
//	]
//
//	} }
type MysqlAccount struct {
	pulumi.CustomResourceState

	// Specifies remarks of the database account. The parameter must be 1 to 512
	// characters long and is supported only for MySQL 8.0.25 and later versions.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Specifies the IP addresses that are allowed to access your DB instance.
	// + If the IP address is set to %, all IP addresses are allowed to access your instance.
	// + If the IP address is set to 10.10.10.%, all IP addresses in the subnet 10.10.10.X are allowed to access
	//   your instance.
	// + Multiple IP addresses can be added.
	Hosts pulumi.StringArrayOutput `pulumi:"hosts"`
	// Specifies the rds instance id. Changing this will create a new resource.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// Specifies the username of the db account. Only lowercase letters, digits,
	// hyphens (-), and underscores (_) are allowed. Changing this will create a new resource.
	// + If the database version is MySQL 5.6, the username consists of 1 to 16 characters.
	// + If the database version is MySQL 5.7 or 8.0, the username consists of 1 to 32 characters.
	Name pulumi.StringOutput `pulumi:"name"`
	// Specifies the password of the db account. The parameter must be 8 to 32 characters
	// long and contain only letters(case-sensitive), digits, and special characters(~!@#$%^*-_=+?,()&). The value must be
	// different from `name` or `name` spelled backwards.
	Password pulumi.StringOutput `pulumi:"password"`
	// The region in which to create the rds account resource. If omitted, the
	// provider-level region will be used. Changing this creates a new resource.
	Region pulumi.StringOutput `pulumi:"region"`
}

// NewMysqlAccount registers a new resource with the given unique name, arguments, and options.
func NewMysqlAccount(ctx *pulumi.Context,
	name string, args *MysqlAccountArgs, opts ...pulumi.ResourceOption) (*MysqlAccount, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	if args.Password == nil {
		return nil, errors.New("invalid value for required argument 'Password'")
	}
	opts = pkgResourceDefaultOpts(opts)
	var resource MysqlAccount
	err := ctx.RegisterResource("huaweicloud:Rds/mysqlAccount:MysqlAccount", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetMysqlAccount gets an existing MysqlAccount resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetMysqlAccount(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *MysqlAccountState, opts ...pulumi.ResourceOption) (*MysqlAccount, error) {
	var resource MysqlAccount
	err := ctx.ReadResource("huaweicloud:Rds/mysqlAccount:MysqlAccount", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering MysqlAccount resources.
type mysqlAccountState struct {
	// Specifies remarks of the database account. The parameter must be 1 to 512
	// characters long and is supported only for MySQL 8.0.25 and later versions.
	Description *string `pulumi:"description"`
	// Specifies the IP addresses that are allowed to access your DB instance.
	// + If the IP address is set to %, all IP addresses are allowed to access your instance.
	// + If the IP address is set to 10.10.10.%, all IP addresses in the subnet 10.10.10.X are allowed to access
	//   your instance.
	// + Multiple IP addresses can be added.
	Hosts []string `pulumi:"hosts"`
	// Specifies the rds instance id. Changing this will create a new resource.
	InstanceId *string `pulumi:"instanceId"`
	// Specifies the username of the db account. Only lowercase letters, digits,
	// hyphens (-), and underscores (_) are allowed. Changing this will create a new resource.
	// + If the database version is MySQL 5.6, the username consists of 1 to 16 characters.
	// + If the database version is MySQL 5.7 or 8.0, the username consists of 1 to 32 characters.
	Name *string `pulumi:"name"`
	// Specifies the password of the db account. The parameter must be 8 to 32 characters
	// long and contain only letters(case-sensitive), digits, and special characters(~!@#$%^*-_=+?,()&). The value must be
	// different from `name` or `name` spelled backwards.
	Password *string `pulumi:"password"`
	// The region in which to create the rds account resource. If omitted, the
	// provider-level region will be used. Changing this creates a new resource.
	Region *string `pulumi:"region"`
}

type MysqlAccountState struct {
	// Specifies remarks of the database account. The parameter must be 1 to 512
	// characters long and is supported only for MySQL 8.0.25 and later versions.
	Description pulumi.StringPtrInput
	// Specifies the IP addresses that are allowed to access your DB instance.
	// + If the IP address is set to %, all IP addresses are allowed to access your instance.
	// + If the IP address is set to 10.10.10.%, all IP addresses in the subnet 10.10.10.X are allowed to access
	//   your instance.
	// + Multiple IP addresses can be added.
	Hosts pulumi.StringArrayInput
	// Specifies the rds instance id. Changing this will create a new resource.
	InstanceId pulumi.StringPtrInput
	// Specifies the username of the db account. Only lowercase letters, digits,
	// hyphens (-), and underscores (_) are allowed. Changing this will create a new resource.
	// + If the database version is MySQL 5.6, the username consists of 1 to 16 characters.
	// + If the database version is MySQL 5.7 or 8.0, the username consists of 1 to 32 characters.
	Name pulumi.StringPtrInput
	// Specifies the password of the db account. The parameter must be 8 to 32 characters
	// long and contain only letters(case-sensitive), digits, and special characters(~!@#$%^*-_=+?,()&). The value must be
	// different from `name` or `name` spelled backwards.
	Password pulumi.StringPtrInput
	// The region in which to create the rds account resource. If omitted, the
	// provider-level region will be used. Changing this creates a new resource.
	Region pulumi.StringPtrInput
}

func (MysqlAccountState) ElementType() reflect.Type {
	return reflect.TypeOf((*mysqlAccountState)(nil)).Elem()
}

type mysqlAccountArgs struct {
	// Specifies remarks of the database account. The parameter must be 1 to 512
	// characters long and is supported only for MySQL 8.0.25 and later versions.
	Description *string `pulumi:"description"`
	// Specifies the IP addresses that are allowed to access your DB instance.
	// + If the IP address is set to %, all IP addresses are allowed to access your instance.
	// + If the IP address is set to 10.10.10.%, all IP addresses in the subnet 10.10.10.X are allowed to access
	//   your instance.
	// + Multiple IP addresses can be added.
	Hosts []string `pulumi:"hosts"`
	// Specifies the rds instance id. Changing this will create a new resource.
	InstanceId string `pulumi:"instanceId"`
	// Specifies the username of the db account. Only lowercase letters, digits,
	// hyphens (-), and underscores (_) are allowed. Changing this will create a new resource.
	// + If the database version is MySQL 5.6, the username consists of 1 to 16 characters.
	// + If the database version is MySQL 5.7 or 8.0, the username consists of 1 to 32 characters.
	Name *string `pulumi:"name"`
	// Specifies the password of the db account. The parameter must be 8 to 32 characters
	// long and contain only letters(case-sensitive), digits, and special characters(~!@#$%^*-_=+?,()&). The value must be
	// different from `name` or `name` spelled backwards.
	Password string `pulumi:"password"`
	// The region in which to create the rds account resource. If omitted, the
	// provider-level region will be used. Changing this creates a new resource.
	Region *string `pulumi:"region"`
}

// The set of arguments for constructing a MysqlAccount resource.
type MysqlAccountArgs struct {
	// Specifies remarks of the database account. The parameter must be 1 to 512
	// characters long and is supported only for MySQL 8.0.25 and later versions.
	Description pulumi.StringPtrInput
	// Specifies the IP addresses that are allowed to access your DB instance.
	// + If the IP address is set to %, all IP addresses are allowed to access your instance.
	// + If the IP address is set to 10.10.10.%, all IP addresses in the subnet 10.10.10.X are allowed to access
	//   your instance.
	// + Multiple IP addresses can be added.
	Hosts pulumi.StringArrayInput
	// Specifies the rds instance id. Changing this will create a new resource.
	InstanceId pulumi.StringInput
	// Specifies the username of the db account. Only lowercase letters, digits,
	// hyphens (-), and underscores (_) are allowed. Changing this will create a new resource.
	// + If the database version is MySQL 5.6, the username consists of 1 to 16 characters.
	// + If the database version is MySQL 5.7 or 8.0, the username consists of 1 to 32 characters.
	Name pulumi.StringPtrInput
	// Specifies the password of the db account. The parameter must be 8 to 32 characters
	// long and contain only letters(case-sensitive), digits, and special characters(~!@#$%^*-_=+?,()&). The value must be
	// different from `name` or `name` spelled backwards.
	Password pulumi.StringInput
	// The region in which to create the rds account resource. If omitted, the
	// provider-level region will be used. Changing this creates a new resource.
	Region pulumi.StringPtrInput
}

func (MysqlAccountArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*mysqlAccountArgs)(nil)).Elem()
}

type MysqlAccountInput interface {
	pulumi.Input

	ToMysqlAccountOutput() MysqlAccountOutput
	ToMysqlAccountOutputWithContext(ctx context.Context) MysqlAccountOutput
}

func (*MysqlAccount) ElementType() reflect.Type {
	return reflect.TypeOf((**MysqlAccount)(nil)).Elem()
}

func (i *MysqlAccount) ToMysqlAccountOutput() MysqlAccountOutput {
	return i.ToMysqlAccountOutputWithContext(context.Background())
}

func (i *MysqlAccount) ToMysqlAccountOutputWithContext(ctx context.Context) MysqlAccountOutput {
	return pulumi.ToOutputWithContext(ctx, i).(MysqlAccountOutput)
}

// MysqlAccountArrayInput is an input type that accepts MysqlAccountArray and MysqlAccountArrayOutput values.
// You can construct a concrete instance of `MysqlAccountArrayInput` via:
//
//	MysqlAccountArray{ MysqlAccountArgs{...} }
type MysqlAccountArrayInput interface {
	pulumi.Input

	ToMysqlAccountArrayOutput() MysqlAccountArrayOutput
	ToMysqlAccountArrayOutputWithContext(context.Context) MysqlAccountArrayOutput
}

type MysqlAccountArray []MysqlAccountInput

func (MysqlAccountArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*MysqlAccount)(nil)).Elem()
}

func (i MysqlAccountArray) ToMysqlAccountArrayOutput() MysqlAccountArrayOutput {
	return i.ToMysqlAccountArrayOutputWithContext(context.Background())
}

func (i MysqlAccountArray) ToMysqlAccountArrayOutputWithContext(ctx context.Context) MysqlAccountArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(MysqlAccountArrayOutput)
}

// MysqlAccountMapInput is an input type that accepts MysqlAccountMap and MysqlAccountMapOutput values.
// You can construct a concrete instance of `MysqlAccountMapInput` via:
//
//	MysqlAccountMap{ "key": MysqlAccountArgs{...} }
type MysqlAccountMapInput interface {
	pulumi.Input

	ToMysqlAccountMapOutput() MysqlAccountMapOutput
	ToMysqlAccountMapOutputWithContext(context.Context) MysqlAccountMapOutput
}

type MysqlAccountMap map[string]MysqlAccountInput

func (MysqlAccountMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*MysqlAccount)(nil)).Elem()
}

func (i MysqlAccountMap) ToMysqlAccountMapOutput() MysqlAccountMapOutput {
	return i.ToMysqlAccountMapOutputWithContext(context.Background())
}

func (i MysqlAccountMap) ToMysqlAccountMapOutputWithContext(ctx context.Context) MysqlAccountMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(MysqlAccountMapOutput)
}

type MysqlAccountOutput struct{ *pulumi.OutputState }

func (MysqlAccountOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**MysqlAccount)(nil)).Elem()
}

func (o MysqlAccountOutput) ToMysqlAccountOutput() MysqlAccountOutput {
	return o
}

func (o MysqlAccountOutput) ToMysqlAccountOutputWithContext(ctx context.Context) MysqlAccountOutput {
	return o
}

// Specifies remarks of the database account. The parameter must be 1 to 512
// characters long and is supported only for MySQL 8.0.25 and later versions.
func (o MysqlAccountOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *MysqlAccount) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Specifies the IP addresses that are allowed to access your DB instance.
//   - If the IP address is set to %, all IP addresses are allowed to access your instance.
//   - If the IP address is set to 10.10.10.%, all IP addresses in the subnet 10.10.10.X are allowed to access
//     your instance.
//   - Multiple IP addresses can be added.
func (o MysqlAccountOutput) Hosts() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *MysqlAccount) pulumi.StringArrayOutput { return v.Hosts }).(pulumi.StringArrayOutput)
}

// Specifies the rds instance id. Changing this will create a new resource.
func (o MysqlAccountOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *MysqlAccount) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// Specifies the username of the db account. Only lowercase letters, digits,
// hyphens (-), and underscores (_) are allowed. Changing this will create a new resource.
// + If the database version is MySQL 5.6, the username consists of 1 to 16 characters.
// + If the database version is MySQL 5.7 or 8.0, the username consists of 1 to 32 characters.
func (o MysqlAccountOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *MysqlAccount) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Specifies the password of the db account. The parameter must be 8 to 32 characters
// long and contain only letters(case-sensitive), digits, and special characters(~!@#$%^*-_=+?,()&). The value must be
// different from `name` or `name` spelled backwards.
func (o MysqlAccountOutput) Password() pulumi.StringOutput {
	return o.ApplyT(func(v *MysqlAccount) pulumi.StringOutput { return v.Password }).(pulumi.StringOutput)
}

// The region in which to create the rds account resource. If omitted, the
// provider-level region will be used. Changing this creates a new resource.
func (o MysqlAccountOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *MysqlAccount) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

type MysqlAccountArrayOutput struct{ *pulumi.OutputState }

func (MysqlAccountArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*MysqlAccount)(nil)).Elem()
}

func (o MysqlAccountArrayOutput) ToMysqlAccountArrayOutput() MysqlAccountArrayOutput {
	return o
}

func (o MysqlAccountArrayOutput) ToMysqlAccountArrayOutputWithContext(ctx context.Context) MysqlAccountArrayOutput {
	return o
}

func (o MysqlAccountArrayOutput) Index(i pulumi.IntInput) MysqlAccountOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *MysqlAccount {
		return vs[0].([]*MysqlAccount)[vs[1].(int)]
	}).(MysqlAccountOutput)
}

type MysqlAccountMapOutput struct{ *pulumi.OutputState }

func (MysqlAccountMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*MysqlAccount)(nil)).Elem()
}

func (o MysqlAccountMapOutput) ToMysqlAccountMapOutput() MysqlAccountMapOutput {
	return o
}

func (o MysqlAccountMapOutput) ToMysqlAccountMapOutputWithContext(ctx context.Context) MysqlAccountMapOutput {
	return o
}

func (o MysqlAccountMapOutput) MapIndex(k pulumi.StringInput) MysqlAccountOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *MysqlAccount {
		return vs[0].(map[string]*MysqlAccount)[vs[1].(string)]
	}).(MysqlAccountOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*MysqlAccountInput)(nil)).Elem(), &MysqlAccount{})
	pulumi.RegisterInputType(reflect.TypeOf((*MysqlAccountArrayInput)(nil)).Elem(), MysqlAccountArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*MysqlAccountMapInput)(nil)).Elem(), MysqlAccountMap{})
	pulumi.RegisterOutputType(MysqlAccountOutput{})
	pulumi.RegisterOutputType(MysqlAccountArrayOutput{})
	pulumi.RegisterOutputType(MysqlAccountMapOutput{})
}
